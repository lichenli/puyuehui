(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e90e9a5e"],{"724e":function(e,t,o){},"7f7f":function(e,t,o){var a=o("86cc").f,i=Function.prototype,n=/^\s*function ([^ (]*)/,m="name";m in i||o("9e1e")&&a(i,m,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},c324:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"flexlayout"},[o("div",{staticClass:"topbar"},[o("span",{staticClass:"icon icon-fanhui",on:{click:function(t){e.$router.go(-1)}}}),o("div",[e._v("发票抬头")]),o("router-link",{staticClass:"icon icon-home",attrs:{to:"/"}})],1),o("div",{staticClass:"flexauto"},[o("ul",{staticClass:"formList"},[o("li",[o("em",[e._v("发票类型")]),o("div",[o("span",{staticClass:"radioGroup"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.mode,expression:"memberInvoiceInfoData.mode"}],attrs:{type:"radio",id:"dianzi",name:"mode",value:"1"},domProps:{checked:e._q(e.memberInvoiceInfoData.mode,"1")},on:{change:function(t){e.$set(e.memberInvoiceInfoData,"mode","1")}}}),o("label",{attrs:{for:"dianzi"}},[e._v("电子发票")])]),o("span",{staticClass:"radioGroup"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.mode,expression:"memberInvoiceInfoData.mode"}],attrs:{type:"radio",id:"zhizhi",name:"mode",value:"2"},domProps:{checked:e._q(e.memberInvoiceInfoData.mode,"2")},on:{change:function(t){e.$set(e.memberInvoiceInfoData,"mode","2")}}}),o("label",{attrs:{for:"zhizhi"}},[e._v("纸质发票")])])])])]),o("ul",{staticClass:"formList"},["1"===e.memberInvoiceInfoData.mode?o("li",[o("em",[e._v("电子邮箱")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.email,expression:"memberInvoiceInfoData.email"}],attrs:{type:"text",placeholder:"请填写接收发票的邮箱"},domProps:{value:e.memberInvoiceInfoData.email},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"email",t.target.value)}}})]):e._e()]),o("ul",{staticClass:"formList"},[o("li",[o("em",[e._v("抬头类型")]),o("div",[o("span",{staticClass:"radioGroup"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.type,expression:"memberInvoiceInfoData.type"}],attrs:{type:"radio",id:"person",name:"type",value:"1"},domProps:{checked:e._q(e.memberInvoiceInfoData.type,"1")},on:{change:function(t){e.$set(e.memberInvoiceInfoData,"type","1")}}}),o("label",{attrs:{for:"person"}},[e._v("个人")])]),o("span",{staticClass:"radioGroup"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.type,expression:"memberInvoiceInfoData.type"}],attrs:{type:"radio",id:"company",name:"type",value:"2"},domProps:{checked:e._q(e.memberInvoiceInfoData.type,"2")},on:{change:function(t){e.$set(e.memberInvoiceInfoData,"type","2")}}}),o("label",{attrs:{for:"company"}},[e._v("企业")])])])])]),o("ul",{staticClass:"formList"},[o("li",{staticClass:"select"},[o("em",[e._v("发票抬头")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.name,expression:"memberInvoiceInfoData.name"}],attrs:{type:"text",placeholder:"抬头名称,必填"},domProps:{value:e.memberInvoiceInfoData.name},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"name",t.target.value)}}})])]),"2"===e.memberInvoiceInfoData.type?o("ul",{staticClass:"formList"},[o("li",[o("em",[e._v("税号")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.taxNo,expression:"memberInvoiceInfoData.taxNo"}],attrs:{type:"text",placeholder:"纳税人识别号或社会统一征信代码"},domProps:{value:e.memberInvoiceInfoData.taxNo},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"taxNo",t.target.value)}}})]),o("li",[o("em",[e._v("地址")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.address,expression:"memberInvoiceInfoData.address"}],attrs:{type:"text",placeholder:"选填"},domProps:{value:e.memberInvoiceInfoData.address},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"address",t.target.value)}}})]),o("li",[o("em",[e._v("固定电话")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.mobile,expression:"memberInvoiceInfoData.mobile"}],attrs:{type:"text",placeholder:"选填"},domProps:{value:e.memberInvoiceInfoData.mobile},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"mobile",t.target.value)}}})]),o("li",[o("em",[e._v("开户行")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.bank,expression:"memberInvoiceInfoData.bank"}],attrs:{type:"text",placeholder:"选填"},domProps:{value:e.memberInvoiceInfoData.bank},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"bank",t.target.value)}}})]),o("li",[o("em",[e._v("开户银行帐号")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.memberInvoiceInfoData.bankNo,expression:"memberInvoiceInfoData.bankNo"}],attrs:{type:"text",placeholder:"选填"},domProps:{value:e.memberInvoiceInfoData.bankNo},on:{blur:this.$util.restore,input:function(t){t.target.composing||e.$set(e.memberInvoiceInfoData,"bankNo",t.target.value)}}})])]):e._e(),o("ul",{staticClass:"formList"},[o("li",[o("em",{staticStyle:{width:"74%"}},[e._v("设为默认")]),o("mt-switch",{staticStyle:{right:"-.2rem"},model:{value:e.defaultInvoice,callback:function(t){e.defaultInvoice=t},expression:"defaultInvoice"}})],1)])]),o("div",[e.isDelete?o("div",{staticClass:"bigBtn02",on:{click:function(t){e.memberInvoiceDeleteMethod()}}},[e._v("删除发票")]):e._e(),o("div",{staticClass:"bigBtn",on:{click:function(t){e.isDisable&&e.memberInvoiceUpdateMethod()}}},[e._v("保存")])])])},i=[],n=(o("7f7f"),o("3a78")),m=o("5f87"),r=o("76a0"),s={name:"InvoiceEdit",data:function(){return{memberInvoiceInfoData:{mode:"1",type:"1"},invoiceId:this.$route.query.invoiceId,defaultInvoice:!1,isDisable:!0,isDelete:!1}},created:function(){this.memberInvoiceOneMethod()},methods:{memberInvoiceOneMethod:function(){var e=this;if(this.invoiceId){var t={};t.id=this.invoiceId,n["a"].memberInvoiceSelectsOne(t,function(t){e.memberInvoiceInfoData=t,e.defaultInvoice=1==t.defaultInvoice,e.isDelete=!0},function(e){console.error("获取发票信息异常"+JSON.stringify(e))})}},memberInvoiceDeleteMethod:function(){var e=this;this.invoiceId&&r["MessageBox"].confirm("确定执行删除操作?").then(function(t){var o={};o.id=e.invoiceId,n["a"].memberInvoiceDelete(o,function(t){t?(Object(r["Toast"])({message:"删除发票操作成功",duration:2e3}),Object(m["f"])("invoice"),setTimeout(function(){e.$router.go(-1)},2e3)):(Object(r["Toast"])({message:"删除发票操作失败，请重试",duration:2e3}),e.isDisable=!0)},function(e){console.error("发票删除异常"+JSON.stringify(e))})}).catch(function(){})},memberInvoiceUpdateMethod:function(){var e=this;if(this.memberInvoiceInfoData.name)if("1"!==this.memberInvoiceInfoData.mode||this.memberInvoiceInfoData.email)if("2"!==this.memberInvoiceInfoData.type||this.memberInvoiceInfoData.name){this.isDisable=!1;var t=this.memberInvoiceInfoData;t.defaultInvoice=this.defaultInvoice,n["a"].memberInvoiceUpdate(t,function(t){t?(Object(r["Toast"])({message:"用户发票操作成功",duration:2e3}),Object(m["f"])("order_invoice"),e.$router.go(-1)):(Object(r["Toast"])({message:"用户发票操作失败，请重试",duration:2e3}),e.isDisable=!0)},function(e){console.error("发票保存异常"+JSON.stringify(e)),this.isDisable=!0})}else Object(r["Toast"])({message:"企业抬头类型需要输入纳税人识别号或社会统一征信代码",duration:2e3});else Object(r["Toast"])({message:"请输入接收电子发票的邮箱地址",duration:2e3});else Object(r["Toast"])({message:"请输入发票抬头名称",duration:2e3})}}},c=s,l=(o("efbf"),o("2877")),v=Object(l["a"])(c,a,i,!1,null,"5bb8b822",null);v.options.__file="InvoiceEdit.vue";t["default"]=v.exports},efbf:function(e,t,o){"use strict";var a=o("724e"),i=o.n(a);i.a}}]);