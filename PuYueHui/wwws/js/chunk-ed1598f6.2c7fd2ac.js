(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed1598f6"],{"3c72":function(t,a,i){},7737:function(t,a,i){"use strict";var c=i("3c72"),s=i.n(c);s.a},"7e63":function(t,a,i){"use strict";i.r(a);var c=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"flexlayout"},[i("div",{staticClass:"topbar"},[i("span",{staticClass:"icon icon-fanhui",on:{click:function(a){t.$router.go(-1)}}}),i("div",[t._v("专属商城")]),i("router-link",{staticClass:"icon icon-home",attrs:{to:"/"}})],1),i("div",{staticClass:"productBox"},[i("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.slidePageList,"auto-fill":!1,"bottom-all-loaded":t.allLoaded}},t._l(t.list,function(a){return i("div",{key:a.id,staticClass:"listphoselect"},[i("div",[i("span",{staticClass:"i-checkbox",class:{"icon-selected":a.checked},on:{click:function(i){t.itemClick(a)}}})]),i("div",{staticClass:"wrap_img"},[i("img",{attrs:{src:t.attachmentUrl+a.logo+".jpg",alt:a.name}}),i("span",{staticClass:"zhuanshu"},[t._v("专属商城")])]),i("div",[i("p",{staticClass:"cp_title"},[t._v(t._s(a.name))]),i("p",[i("span",{staticClass:"price"},[t._v(t._s(t._f("formatMoney")(a.price)))]),i("span",{staticClass:"price2"},[t._v(t._s(t._f("formatMoney")(a.originalPrice)))]),i("span",{staticClass:"input_num"},[i("i",{on:{click:function(i){t.changeQty(!0,a)}}},[t._v("+")]),i("span",[t._v(t._s(a.payNum))]),i("i",{on:{click:function(i){t.changeQty(!1,a)}}},[t._v("-")])])]),i("p",{staticClass:"sold"},[t._v(t._s(a.year)+"年 "+t._s(a.capacity))])])])}))],1),i("div",{staticClass:"goumai border-top"},[i("div",{staticClass:"total border-right"},[i("p",[t._v("\n        合计：\n        "),i("span",{staticClass:"price"},[t._v(t._s(t._f("formatMoney")(t.totalMoney)))])]),i("p",[t._v("\n        共\n        "),i("span",{staticClass:"price"},[t._v(t._s(t.totalNum))]),t._v(" 件商品\n      ")])]),i("router-link",{staticClass:"icon-gouwuche",attrs:{to:{path:"/Shoppingcart",query:{tab:3}}}},[t._v("购物车")]),i("span",{staticClass:"btn2 border-left",on:{click:function(a){t.onJoinCar()}}},[t._v("加入购物车")])],1)])},s=[],o=(i("ac6a"),i("76a0")),n=i("3a78"),e={name:"ExclusiveMall",data:function(){return{attachmentUrl:this.GLOBAL.attachmentUrl,list:[],totalNum:0,totalMoney:0,allLoaded:!1,pageNo:1}},created:function(){var t=this,a={pageNo:t.pageNo,pageSize:10};this.loadProductList(a)},methods:{loadProductList:function(t){var a=this;return new Promise(function(i,c){n["a"].exclusiveProductList(t,function(t){a.list=a.list.concat(a.wrap(t.list)),i(t.pages)},function(t){console.log("my---errorDatassss==="+JSON.stringify(t)),c()})})},wrap:function(t){var a=this;return null==t||0==t.length?t:(t.forEach(function(t){a.$set(t,"checked",!1),a.$set(t,"payNum",1)}),t)},onJoinCar:function(){var t=this,a=this.findCheckItem();null!=a&&0!=a.length?n["a"].batchAddToShoppingCart(a,function(a){Object(o["Toast"])("添加购物车"+(a>0?"成功":"失败")),t.clear()},function(t){}):Object(o["Toast"])("请您选择好需要进行加入购物车的商品")},changeQty:function(t,a){t?(a.payNum++,this.apply()):!t&&a.payNum>1&&(a.payNum--,this.apply())},checkAll:function(){var t=this;this.checkAllFlag=!this.checkAllFlag,this.list.forEach(function(a){t.checkAllFlag?a.checked=!0:a.checked=!1})},findCheckItem:function(){var t=[];return this.list.forEach(function(a){if(a.checked){var i={productId:a.id,status:1,currentPrice:a.price,productQuantity:a.payNum,type:2};t.push(i)}}),t},clear:function(){this.list.forEach(function(t){t.checked=!1,t.payNum=1}),this.totalNum=0,this.totalMoney=0},apply:function(){var t=0,a=0;this.list.forEach(function(i){i.checked&&(t+=i.payNum,a+=i.payNum*i.price)}),this.totalNum=t,this.totalMoney=a},itemClick:function(t){t.checked=!t.checked,this.apply()},slidePageList:function(){this.pageNo++;var t=this,a={pageNo:t.pageNo,pageSize:10};this.loadProductList(a,!0).then(function(a){a==t.pageNo&&(t.allLoaded=!0),t.$refs.loadmore.onBottomLoaded()}).catch(function(a){t.$refs.loadmore.onBottomLoaded()})}}},l=e,r=(i("7737"),i("2877")),u=Object(r["a"])(l,c,s,!1,null,"7b4c3a42",null);u.options.__file="ExclusiveMall.vue";a["default"]=u.exports}}]);