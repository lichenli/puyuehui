(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3f4bed4"],{83780:function(e,o,t){},b39b:function(e,o,t){"use strict";t.r(o);var i=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"topbar"},[t("span",{staticClass:"icon icon-fanhui",on:{click:function(o){e.$router.go(-1)}}}),t("div",[e._v("修改绑定手机")]),t("router-link",{staticClass:"icon icon-home",attrs:{to:"/"}})],1),t("div",[t("ul",{staticClass:"list_common flex"},[t("li",[t("em",[e._v("旧手机号码")]),t("span",[e._v(e._s(e.memberMobileInfoData))])]),t("li",[t("em",[1===e.showGetCodeFlg?t("span",{staticClass:"yzm_btn",on:{click:function(o){e.memberMobileSendCode()}}},[e._v(e._s(e.codeButtonName1))]):e._e(),2===e.showGetCodeFlg?t("span",{staticClass:"yzm_btn"},[e._v(e._s(e.codecount)+" 秒")]):e._e()]),t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.mobilecheckcode,expression:"mobilecheckcode"}],attrs:{type:"text",placeholder:"请输入手机验证码",maxlength:"6",readonly:e.coderead},domProps:{value:e.mobilecheckcode},on:{blur:this.$util.restore,input:function(o){o.target.composing||(e.mobilecheckcode=o.target.value)}}})])])]),1===e.editStep?t("div",{staticClass:"bigBtn",on:{click:function(o){e.intoSecondMobileStep()}}},[e._v("下一步")]):e._e()]),2===e.editStep?t("div",[t("ul",{staticClass:"list_common flex"},[t("li",[t("em",[e._v("新手机号码")]),t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.mobileNew,expression:"mobileNew"}],attrs:{type:"text",placeholder:"请输入新手机号码",maxlength:"11"},domProps:{value:e.mobileNew},on:{input:function(o){o.target.composing||(e.mobileNew=o.target.value)}}})])]),t("li",[t("em",[3===e.showGetCodeFlg?t("span",{staticClass:"yzm_btn",on:{click:function(o){e.memberMobileSendCodeNew()}}},[e._v(e._s(e.codeButtonName2))]):e._e(),4===e.showGetCodeFlg?t("span",{staticClass:"yzm_btn"},[e._v(e._s(e.codecount)+" 秒")]):e._e()]),t("span",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.mobilecheckcodeNew,expression:"mobilecheckcodeNew"}],attrs:{type:"text",placeholder:"请输入手机验证码",maxlength:"6"},domProps:{value:e.mobilecheckcodeNew},on:{input:function(o){o.target.composing||(e.mobilecheckcodeNew=o.target.value)}}})])])]),t("div",{staticClass:"bigBtn",on:{click:function(o){e.isDisable&&e.memberMobileUpdate()}}},[e._v("确认修改")])]):e._e()])},s=[],n=t("3a78"),c=t("76a0"),a=t("b893"),l={name:"PhoneBinding",data:function(){return{editStep:1,showGetCodeFlg:1,memberMobileInfoData:"",codecount:"",codtimer:null,coderead:!1,mobilecheckcode:"",mobileNew:"",mobilecheckcodeNew:"",isDisable:!0,codeButtonName1:"获取验证码",codeButtonName2:"获取验证码"}},created:function(){this.memberPersonMobile()},methods:{memberPersonMobile:function(){var e=this;n["a"].memberMobileInfo(function(o){e.memberMobileInfoData=o},function(e){console.log("my---errorDatassss==="+JSON.stringify(e))})},memberMobileSendCode:function(){var e=this;n["a"].memberMobileSendCode(function(o){"0000"==o.code?(e.getCodeTime(0),Object(c["Toast"])({message:"验证码发送成功，10分钟内有效",duration:2e3}),o.verificationCode&&(e.mobilecheckcode=o.verificationCode)):Object(c["Toast"])({message:"验证码发送失败，请重试",duration:2e3})},function(e){console.log("my---errorDatassss==="+JSON.stringify(e))})},getCodeTime:function(e){var o=this,t=60;this.codetimer||(this.codecount=t,this.showGetCodeFlg=e+2,this.codetimer=setInterval(function(){o.codecount>0&&o.codecount<=t?o.codecount--:(0==e?o.codeButtonName1="重新发送":2==e&&(o.codeButtonName2="重新发送"),o.showGetCodeFlg==e+2&&(o.showGetCodeFlg=e+1),clearInterval(o.codetimer),o.codetimer=null)},1e3))},intoSecondMobileStep:function(){var e=this.mobilecheckcode+""||"";Object(a["b"])(e)?(this.showGetCodeFlg=0,this.coderead=!0,this.showGetCodeFlg=3,this.editStep=2):Object(c["Toast"])({message:"请输入验证码",duration:2e3})},memberMobileSendCodeNew:function(){var e=this,o=this.mobileNew+""||"";if(Object(a["f"])(o)){var t={};t.newMobile=o,n["a"].memberMobileSendCodeNew(t,function(o){"0000"==o.code?(e.getCodeTime(2),Object(c["Toast"])({message:"验证码发送成功，10分钟内有效",duration:2e3}),o.verificationCode&&(e.mobilecheckcodeNew=o.verificationCode)):Object(c["Toast"])({message:"验证码发送失败，请重试",duration:2e3})},function(e){console.log("my---errorDatassss==="+JSON.stringify(e))})}else Object(c["Toast"])({message:"新手机号码输入有误，请重试",duration:2e3})},memberMobileUpdate:function(){var e=this,o=this.mobilecheckcode+""||"",t=this.mobileNew+""||"",i=this.mobilecheckcodeNew+""||"";if(Object(a["f"])(t))if(Object(a["b"])(o))if(Object(a["b"])(i)){this.isDisable=!1;var s={};s.newMobile=t,s.mobilecode=o,s.newMobilecode=i,n["a"].memberMobileUpdate(s,function(o){"success"==o?(Object(c["Toast"])({message:"手机更新成功",duration:1500}),setTimeout(function(){location.reload()},1500)):"error"==o?(Object(c["Toast"])({message:"手机更新失败，请重试",duration:2e3}),e.isDisable=!0):(Object(c["Toast"])({message:"信息验证失败，请重试",duration:2e3}),e.isDisable=!0)},function(o){console.log("my---errorDatassss==="+JSON.stringify(o)),e.isDisable=!0})}else Object(c["Toast"])({message:"新手机验证码有误，无法提交",duration:2e3});else Object(c["Toast"])({message:"旧手机验证码有误，无法提交",duration:2e3});else Object(c["Toast"])({message:"新手机信息有误，无法提交",duration:2e3})}}},d=l,m=(t("ddb1"),t("2877")),r=Object(m["a"])(d,i,s,!1,null,"782efb1f",null);r.options.__file="PhoneBinding.vue";o["default"]=r.exports},ddb1:function(e,o,t){"use strict";var i=t("83780"),s=t.n(i);s.a}}]);