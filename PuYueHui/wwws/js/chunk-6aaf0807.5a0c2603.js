(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6aaf0807"],{"7f7f":function(t,e,a){var n=a("86cc").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in o||a("9e1e")&&n(o,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"95a8":function(t,e,a){},"9ebb":function(t,e,a){"use strict";var n=a("95a8"),o=a.n(n);o.a},f0ec:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flexlayout"},[a("div",{staticClass:"topbar"},[a("span",{staticClass:"icon icon-fanhui",on:{click:function(e){t.$router.go(-1)}}}),a("div",{staticClass:"search"},[a("span",{staticClass:"icon-sousuo"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],ref:"inputText",attrs:{type:"search",placeholder:"搜索"},domProps:{value:t.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.search(e)):null},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("router-link",{staticClass:"icon icon-home",attrs:{to:"/"}})],1),a("div",{staticClass:"list_pho1 flexauto"},[a("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.pageList,"auto-fill":!1,"bottom-all-loaded":t.allLoaded}},[t._l(t.list,function(e,n){return[a("router-link",{key:n,attrs:{to:{name:"ProductDetail",query:{id:e.id}}}},[a("img",{attrs:{src:t.attachmentUrl+e.logo+".jpg",alt:e.name}}),a("div",{staticStyle:{flex:"auto"}},[a("p",{staticClass:"cp_title"},[t._v(t._s(e.name))]),a("p",{staticClass:"price"},[t._v("会员价：￥"+t._s(e.price))]),a("p",{staticClass:"price2"},[t._v("\n              零售价：\n              "),a("span",[t._v("￥"+t._s(e.originalPrice))])]),a("p",{staticClass:"sold"},[t._v("\n              已出售:\n              "),a("span",[t._v(t._s(e.num))])])])])]})],2)],1)])},o=[],s=(a("7f7f"),a("3a78")),i={name:"Search",data:function(){return{name:"",list:[],pageNo:1,pageSize:10,allLoaded:!1,attachmentUrl:this.GLOBAL.attachmentUrl}},methods:{search:function(){event.stopImmediatePropagation(),this.$refs.inputText.blur();var t=this,e={name:t.name,pageNo:t.pageNo,pageSize:t.pageSize};this.searchProduct(e)},searchProduct:function(t,e){var a=this;return new Promise(function(n,o){s["a"].products(t,function(t){a.list=e?a.list.concat(t.list):t.list,n(t.pages)},function(t){console.log("my---errorDatassss==="+JSON.stringify(t)),o()})})},pageList:function(){event.stopImmediatePropagation(),this.pageNo++;var t=this,e={pageNo:t.pageNo,pageSize:t.pageSize,name:t.name};this.searchProduct(e,!0).then(function(e){e==t.pageNo&&(t.allLoaded=!0),t.$refs.loadmore.onBottomLoaded()}).catch(function(e){t.$refs.loadmore.onBottomLoaded()})}}},r=i,c=(a("9ebb"),a("2877")),l=Object(c["a"])(r,n,o,!1,null,"baba0b84",null);l.options.__file="Search.vue";e["default"]=l.exports}}]);