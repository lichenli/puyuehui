(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f86832e"],{"0736":function(t,a,e){},"7f7f":function(t,a,e){var o=e("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in n||e("9e1e")&&o(n,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},8779:function(t,a,e){"use strict";var o=e("0736"),n=e.n(o);n.a},f0ec:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"flexlayout"},[e("div",{staticClass:"topbar"},[e("span",{staticClass:"icon icon-fanhui",on:{click:function(a){t.$router.go(-1)}}}),e("div",{staticClass:"search"},[e("form",{attrs:{action:"#"}},[e("span",{staticClass:"icon-sousuo"}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"search",name:"",placeholder:"搜索"},domProps:{value:t.name},on:{keyup:t.search,input:function(a){a.target.composing||(t.name=a.target.value)}}})])]),e("router-link",{staticClass:"icon icon-home",attrs:{to:"/"}})],1),e("div",{staticClass:"list_pho1 flexauto"},[e("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.pageList,"auto-fill":!1,"bottom-all-loaded":t.allLoaded}},[t._l(t.list,function(a,o){return[e("router-link",{key:o,attrs:{to:{name:"ProductDetail",query:{id:a.id}}}},[e("img",{attrs:{src:t.attachmentUrl+a.logo+".jpg",alt:a.name}}),e("div",{staticStyle:{flex:"auto"}},[e("p",{staticClass:"cp_title"},[t._v(t._s(a.name))]),e("p",{staticClass:"price"},[t._v("会员价：￥"+t._s(a.price))]),e("p",{staticClass:"price2"},[t._v("\n              零售价：\n              "),e("span",[t._v("￥"+t._s(a.originalPrice))])]),e("p",{staticClass:"sold"},[t._v("\n              已出售:\n              "),e("span",[t._v(t._s(a.num))])])])])]})],2)],1)])},n=[],s=(e("7f7f"),e("cadf"),e("551c"),e("097d"),e("3a78")),i={name:"Search",data:function(){return{name:"",list:[],pageNo:1,pageSize:10,allLoaded:!1,attachmentUrl:this.GLOBAL.attachmentUrl}},methods:{search:function(){if(13==event.keyCode&&this.name){event.stopImmediatePropagation();var t=this,a={name:t.name,pageNo:t.pageNo,pageSize:t.pageSize};this.searchProduct(a)}},searchProduct:function(t,a){var e=this;return new Promise(function(o,n){s["a"].products(t,function(t){e.list=a?e.products.concat(t.list):t.list,o(t.pages)},function(t){console.log("my---errorDatassss==="+JSON.stringify(t)),n()})})},pageList:function(){event.stopImmediatePropagation(),this.pageNo++;var t=this,a={pageNo:t.pageNo,pageSize:t.pageSize,name:this_.name};this.searchProduct(a,!0).then(function(a){a==t.pageNo&&(t.allLoaded=!0),t.$refs.loadmore.onBottomLoaded()}).catch(function(a){t.$refs.loadmore.onBottomLoaded()})}}},c=i,r=(e("8779"),e("2877")),l=Object(r["a"])(c,o,n,!1,null,"2033e547",null);l.options.__file="Search.vue";a["default"]=l.exports}}]);