(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35b8040a"],{"2fbe":function(e,t,a){},"5a09":function(e,t,a){"use strict";a("b6f8");var n=a("9f4a"),o=a("2fc4"),i=a("f711"),s="toString",c=/./[s],r=function(e){a("7e22")(RegExp.prototype,s,e,!0)};a("cce3")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?r(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):c.name!=s&&r(function(){return c.call(this)})},7413:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"topbar"},[a("span",{staticClass:"icon icon-fanhui",on:{click:function(t){e.$router.go(-1)}}}),a("div",[e._v("设置")]),a("router-link",{staticClass:"icon icon-home",attrs:{to:"/"}})],1),a("div"),a("div",{staticClass:"userHeader"},[a("img",{staticClass:"touxiang",attrs:{src:e.memeberImg,onerror:e.defaultImg}}),a("div",{staticClass:"message",attrs:{to:"/Setting"}},[a("strong",{staticClass:"name"},[e._v(e._s(e.memberBaseInfo.user_name))]),a("span",{staticClass:"jibie icon-honor"},[e._v(e._s(e.memberBaseInfo.user_level_name))]),a("p",{staticClass:"icon-dianhua"},[e._v(e._s(e.memberBaseInfo.mobile))])]),a("span",{staticClass:"icon-edit",staticStyle:{"font-size":".5rem",color:"#fff","margin-top":".3rem"},attrs:{size:"large"},on:{click:function(t){e.openCamera()}}})]),a("div",[a("ul",{staticClass:"list_common rightIcon"},[a("li",[a("router-link",{attrs:{to:"/UserinfoEdit"}},[e._v("个人信息")])],1),a("li",[a("router-link",{attrs:{to:"/AddressList"}},[e._v("收货地址")])],1),a("li",[a("router-link",{attrs:{to:"/PhoneBinding"}},[e._v("手机绑定")])],1)])])])},o=[],i=(a("aba3"),a("5a09"),a("bc72"),a("3a78")),s=a("b893"),c=a("5f87"),r=a("9690"),f=a("660a"),m=a("00ca"),l={name:"Setting",data:function(){return this.memberHomeInfo(),{sheetVisible:!1,memberBaseInfo:[],actions:[],picData:{},attachmentUrl:this.GLOBAL.attachmentUrl,memeberImg:null,defaultImg:'this.src="'+a("865d")+'"'}},created:function(){this.initWxConfig(),window.setImage=this.setImage},methods:{memberHomeInfo:function(){var e=this;i["a"].memberHomeInfo(function(t){e.memberBaseInfo=t,e.memeberImg=e.attachmentUrl+t.img},function(e){console.log("my---errorDatassss==="+JSON.stringify(e))})},initWxConfig:function(e,t){if(Object(s["f"])()){var a=window.location.href.split("#")[0];if(!(a.indexOf("favicon.ico")>-1)){var n={url:a};i["a"].wxjsConfig(n,function(e){e&&m.config({debug:!1,appId:e.appId+"",timestamp:e.timestamp,nonceStr:e.nonceStr+"",signature:e.signature+"",jsApiList:["chooseImage","previewImage","uploadImage","downloadImage","getLocalImgData"]})})}}},openCamera:function(){Object(s["f"])()?this.openCameraWX():Object(s["d"])()?this.openCameraAndroid():Object(f["Toast"])("请在手机微信或者安卓设备中在打开")},openCameraWX:function(){var e=this;m.checkJsApi({jsApiList:["chooseImage","getLocalImgData"],success:function(t){t&&"checkJsApi:ok"==t.errMsg&&t.checkResult.chooseImage&&t.checkResult.getLocalImgData?e.openCameraStart():(console.log("不支持非手机微信中打开"),Object(f["Toast"])("请在手机微信中在打开"))}})},openCameraAndroid:function(){var e=Object(c["b"])();r["a"].openAndroidAlbum(e)},openCameraStart:function(){var e=this;m.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var a=t.localIds;m.getLocalImgData({localId:a.toString(),isShowProgressTips:1,success:function(t){var a=t.localData,n="";n="ios"===Object(s["a"])()?a.replace("jgp","jpeg"):"data:image/jpeg;base64,"+a,e.fileUploadBase64(n)},fail:function(e){Object(f["Toast"])("图片上传异常，请重试")}})}})},fileUploadBase64:function(e){var t=this,a={file:e,attachmenType:"memberhead"};i["a"].fileUploadBase64(a,function(a){a&&a[0]&&t.saveMemberPersonInfo(a[0],e)},function(e){Object(f["Toast"])("头像上传异常，")})},saveMemberPersonInfo:function(e,t){var a=this,n={img:e};i["a"].saveMemberPersonInfo(n,function(n){n?(Object(s["f"])()?a.memeberImg=t:a.memeberImg=a.attachmentUrl+e,Object(f["Toast"])("头像修改成功")):Object(f["Toast"])("头像修改失败")},function(e){Object(f["Toast"])("头像修改异常，")})},setImage:function(e){this.saveMemberPersonInfo(e,e)}}},u=l,g=(a("f7a8"),a("048f")),p=Object(g["a"])(u,n,o,!1,null,"fa82e4c8",null);p.options.__file="Setting.vue";t["default"]=p.exports},"865d":function(e,t,a){e.exports=a.p+"img/member_header_img.f44d2f7e.jpg"},9690:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=window.android},b6f8:function(e,t,a){a("f711")&&"g"!=/./g.flags&&a("9a0d").f(RegExp.prototype,"flags",{configurable:!0,get:a("2fc4")})},f7a8:function(e,t,a){"use strict";var n=a("2fbe"),o=a.n(n);o.a}}]);